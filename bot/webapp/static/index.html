<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Freelance Radar</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link rel="stylesheet" href="/static/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
</head>
<body>
    <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è -->
    <nav class="bottom-nav" id="bottomNav">
        <button class="nav-btn active" data-tab="feed" onclick="switchTab('feed')">
            <span class="nav-icon">üîç</span>
            <span class="nav-label">–õ–µ–Ω—Ç–∞</span>
        </button>
        <button class="nav-btn" data-tab="crm" onclick="switchTab('crm')">
            <span class="nav-icon">üìä</span>
            <span class="nav-label">CRM</span>
        </button>
        <button class="nav-btn" data-tab="tools" onclick="switchTab('tools')">
            <span class="nav-icon">üõ†</span>
            <span class="nav-label">–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã</span>
        </button>
        <button class="nav-btn" data-tab="profile" onclick="switchTab('profile')">
            <span class="nav-icon">üë§</span>
            <span class="nav-label">–ü—Ä–æ—Ñ–∏–ª—å</span>
        </button>
    </nav>

    <!-- Loading -->
    <div class="loading-screen" id="loadingScreen">
        <div class="loader"></div>
        <p>–ó–∞–≥—Ä—É–∂–∞–µ–º Freelance Radar...</p>
    </div>

    <!-- Feed Tab -->
    <div class="tab-content active" id="tab-feed">
        <div class="header">
            <h1>üîç –õ–µ–Ω—Ç–∞ –∑–∞–∫–∞–∑–æ–≤</h1>
            <button class="btn-refresh" onclick="loadFeed()">üîÑ</button>
        </div>
        <div class="filter-bar">
            <button class="filter-chip active" onclick="filterFeed('all', this)">–í—Å–µ</button>
            <button class="filter-chip" onclick="filterFeed('kwork', this)">Kwork</button>
            <button class="filter-chip" onclick="filterFeed('fl', this)">FL.ru</button>
            <button class="filter-chip" onclick="filterFeed('habr', this)">Habr</button>
            <button class="filter-chip" onclick="filterFeed('hh', this)">HH</button>
        </div>
        <div id="feedList" class="order-list">
            <div class="empty-state">
                <span class="empty-icon">üì≠</span>
                <p>–ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø–∞—Ä—Å–µ—Ä —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –∑–∞–∫–∞–∑—ã</p>
            </div>
        </div>
    </div>

    <!-- CRM Tab -->
    <div class="tab-content" id="tab-crm">
        <div class="header">
            <h1>üìä CRM</h1>
        </div>
        <div class="stats-grid" id="crmStats"></div>
        <div class="filter-bar">
            <button class="filter-chip active" onclick="filterCRM('all', this)">–í—Å–µ</button>
            <button class="filter-chip" onclick="filterCRM('new', this)">üÜï –ù–æ–≤—ã–µ</button>
            <button class="filter-chip" onclick="filterCRM('responded', this)">‚úâÔ∏è –û—Ç–∫–ª–∏–∫</button>
            <button class="filter-chip" onclick="filterCRM('in_progress', this)">‚öôÔ∏è –í —Ä–∞–±–æ—Ç–µ</button>
            <button class="filter-chip" onclick="filterCRM('completed', this)">‚úÖ –ì–æ—Ç–æ–≤–æ</button>
        </div>
        <div id="crmList" class="order-list"></div>
    </div>

    <!-- Tools Tab -->
    <div class="tab-content" id="tab-tools">
        <div class="header">
            <h1>üõ† –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã</h1>
        </div>
        <div class="tools-grid">
            <div class="tool-card" onclick="openTool('calculator')">
                <span class="tool-icon">üí∞</span>
                <h3>–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Ü–µ–Ω—ã</h3>
                <p>AI-–æ—Ü–µ–Ω–∫–∞ —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –∑–∞–¥–∞—á–∏</p>
            </div>
            <div class="tool-card" onclick="openTool('response')">
                <span class="tool-icon">‚úçÔ∏è</span>
                <h3>–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –æ—Ç–∫–ª–∏–∫–æ–≤</h3>
                <p>AI –Ω–∞–ø–∏—à–µ—Ç –∏–¥–µ–∞–ª—å–Ω—ã–π –æ—Ç–∫–ª–∏–∫</p>
            </div>
            <div class="tool-card" onclick="openTool('client')">
                <span class="tool-icon">üëÅ</span>
                <h3>–ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–∫–∞–∑—á–∏–∫–∞</h3>
                <p>–ê–Ω–∞–ª–∏–∑ –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç–∏ –∫–ª–∏–µ–Ω—Ç–∞</p>
            </div>
            <div class="tool-card" onclick="openTool('market')">
                <span class="tool-icon">üìä</span>
                <h3>–¶–µ–Ω—ã –ø–æ —Ä—ã–Ω–∫—É</h3>
                <p>–°—Ä–µ–¥–Ω–∏–µ —Ä–∞—Å—Ü–µ–Ω–∫–∏ 2024</p>
            </div>
        </div>

        <!-- Tool panels -->
        <div class="tool-panel" id="panel-calculator" style="display:none;">
            <h2>üí∞ –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Ü–µ–Ω—ã</h2>
            <textarea id="calcDescription" placeholder="–û–ø–∏—à–∏—Ç–µ –∑–∞–¥–∞—á—É..." rows="4"></textarea>
            <button class="btn-primary" onclick="calculatePrice()">ü§ñ –†–∞—Å—Å—á–∏—Ç–∞—Ç—å</button>
            <div id="calcResult" class="result-box"></div>
        </div>

        <div class="tool-panel" id="panel-response" style="display:none;">
            <h2>‚úçÔ∏è –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –æ—Ç–∫–ª–∏–∫–æ–≤</h2>
            <input type="text" id="respTitle" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞" class="input-field">
            <textarea id="respDescription" placeholder="–û–ø–∏—Å–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞..." rows="4"></textarea>
            <button class="btn-primary" onclick="generateResponse()">‚úçÔ∏è –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å</button>
            <div id="respResult" class="result-box"></div>
        </div>

        <div class="tool-panel" id="panel-client" style="display:none;">
            <h2>üëÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–∫–∞–∑—á–∏–∫–∞</h2>
            <textarea id="clientInfo" placeholder="–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∑–∞–∫–∞–∑—á–∏–∫–µ (–∏–º—è, —Å—Å—ã–ª–∫–∞, –æ–ø–∏—Å–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞)..." rows="4"></textarea>
            <button class="btn-primary" onclick="checkClient()">üîç –ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button>
            <div id="clientResult" class="result-box"></div>
        </div>

        <div class="tool-panel" id="panel-market" style="display:none;">
            <h2>üìä –°—Ä–µ–¥–Ω–∏–µ —Ü–µ–Ω—ã 2024</h2>
            <div class="market-prices">
                <div class="price-category">
                    <h3>üêç Python</h3>
                    <div class="price-row"><span>Telegram-–±–æ—Ç</span><span>10K ‚Äî 80K ‚ÇΩ</span></div>
                    <div class="price-row"><span>–ü–∞—Ä—Å–µ—Ä</span><span>5K ‚Äî 40K ‚ÇΩ</span></div>
                    <div class="price-row"><span>API/Backend</span><span>30K ‚Äî 200K ‚ÇΩ</span></div>
                    <div class="price-row"><span>–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è</span><span>10K ‚Äî 60K ‚ÇΩ</span></div>
                </div>
                <div class="price-category">
                    <h3>üåê –í–µ–±</h3>
                    <div class="price-row"><span>–õ–µ–Ω–¥–∏–Ω–≥</span><span>15K ‚Äî 60K ‚ÇΩ</span></div>
                    <div class="price-row"><span>–ö–æ—Ä–ø. —Å–∞–π—Ç</span><span>50K ‚Äî 300K ‚ÇΩ</span></div>
                    <div class="price-row"><span>–ò–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω</span><span>80K ‚Äî 500K ‚ÇΩ</span></div>
                </div>
                <div class="price-category">
                    <h3>üé® –î–∏–∑–∞–π–Ω</h3>
                    <div class="price-row"><span>–õ–æ–≥–æ—Ç–∏–ø</span><span>5K ‚Äî 50K ‚ÇΩ</span></div>
                    <div class="price-row"><span>UI/UX –º–∞–∫–µ—Ç</span><span>30K ‚Äî 150K ‚ÇΩ</span></div>
                    <div class="price-row"><span>–§–∏—Ä–º–µ–Ω–Ω—ã–π —Å—Ç–∏–ª—å</span><span>20K ‚Äî 100K ‚ÇΩ</span></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Profile Tab -->
    <div class="tab-content" id="tab-profile">
        <div class="header">
            <h1>üë§ –ü—Ä–æ—Ñ–∏–ª—å</h1>
        </div>
        <div class="profile-card" id="profileCard">
            <div class="profile-avatar" id="profileAvatar">üë§</div>
            <h2 id="profileName">–ó–∞–≥—Ä—É–∑–∫–∞...</h2>
            <span class="subscription-badge" id="subBadge"></span>
        </div>

        <div class="profile-stats" id="profileStats"></div>

        <div class="profile-form">
            <div class="form-group">
                <label>üìõ –ò–º—è</label>
                <input type="text" id="profName" class="input-field" placeholder="–í–∞—à–µ –∏–º—è">
            </div>
            <div class="form-group">
                <label>üìù –û —Å–µ–±–µ</label>
                <textarea id="profBio" class="input-field" rows="3" placeholder="–†–∞—Å—Å–∫–∞–∂–∏—Ç–µ –æ —Å–µ–±–µ..."></textarea>
            </div>
            <div class="form-group">
                <label>üîó –ü–æ—Ä—Ç—Ñ–æ–ª–∏–æ</label>
                <input type="text" id="profPortfolio" class="input-field" placeholder="https://...">
            </div>
            <div class="form-group">
                <label>üíµ –°—Ç–∞–≤–∫–∞ (‚ÇΩ/—á–∞—Å)</label>
                <input type="number" id="profRate" class="input-field" placeholder="2000">
            </div>
            <div class="form-group">
                <label>üìÖ –û–ø—ã—Ç (–ª–µ—Ç)</label>
                <input type="number" id="profExperience" class="input-field" placeholder="3">
            </div>
            <button class="btn-primary" onclick="saveProfile()">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
        </div>

        <!-- –ü–∞—Ä—Å–µ—Ä -->
        <div class="parser-control">
            <h3>üîç –ü–∞—Ä—Å–µ—Ä –∑–∞–∫–∞–∑–æ–≤</h3>
            <div class="parser-toggle">
                <span id="parserStatus">üî¥ –í—ã–∫–ª—é—á–µ–Ω</span>
                <button class="btn-toggle" id="parserBtn" onclick="toggleParser()">–í–∫–ª—é—á–∏—Ç—å</button>
            </div>
        </div>

        <!-- –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ -->
        <div class="categories-section">
            <h3>üìÇ –ö–∞—Ç–µ–≥–æ—Ä–∏–∏</h3>
            <div class="categories-grid" id="categoriesGrid"></div>
        </div>
    </div>

    <!-- Order Detail Modal -->
    <div class="modal" id="orderModal" style="display:none;">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modalTitle"></h2>
                <button class="modal-close" onclick="closeModal()">‚úï</button>
            </div>
            <div class="modal-body" id="modalBody"></div>
            <div class="modal-actions" id="modalActions"></div>
        </div>
    </div>

    <!-- Toast -->
    <div class="toast" id="toast"></div>

    <script src="/static/app.js"></script>
</body>
</html>